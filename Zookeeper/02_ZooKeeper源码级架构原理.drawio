<mxfile host="www.draw.io" modified="2020-03-10T02:48:48.857Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.142 Safari/537.36" etag="bFX9bRe7VEJRac4Q7tzs" version="12.8.2" type="github">
  <diagram id="Rla-V4ZRtTpuWLyhE8ta" name="第 1 页">
    <mxGraphModel dx="2932" dy="548" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-5" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-320" y="40" width="1120" height="1320" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-6" value="ZooKeeper进程&lt;br&gt;（myid=0）" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="240" y="50" width="125" height="40" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-7" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="300" y="135" width="490" height="445" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-8" value="ZooKeeperServer" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="475" y="140" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-9" value="FinalRequestProcessor&lt;br&gt;（处理逻辑）" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="320" y="180" width="130" height="50" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="WYC8DpWCvw_BZ1jIHr_j-10" target="WYC8DpWCvw_BZ1jIHr_j-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="WYC8DpWCvw_BZ1jIHr_j-10" target="WYC8DpWCvw_BZ1jIHr_j-9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-10" value="SyncRequestProcessor&lt;br&gt;（线程）" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="320" y="250" width="130" height="50" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="WYC8DpWCvw_BZ1jIHr_j-11" target="WYC8DpWCvw_BZ1jIHr_j-13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="WYC8DpWCvw_BZ1jIHr_j-11" target="WYC8DpWCvw_BZ1jIHr_j-12">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="385" y="310" />
              <mxPoint x="555" y="310" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-11" value="PreRequestProcessor&lt;br&gt;（线程）" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="320" y="320" width="130" height="50" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-12" value="queueRequests&lt;br&gt;（队列）" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="490" y="250" width="130" height="50" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-13" value="submittedRequests&lt;br&gt;（队列）" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="490" y="320" width="130" height="50" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="WYC8DpWCvw_BZ1jIHr_j-14" target="WYC8DpWCvw_BZ1jIHr_j-21">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-14" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="320" y="400" width="290" height="150" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-16" value="分桶数据结构&lt;br&gt;&amp;lt;expireTime, SessionSet&amp;gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="385" y="440" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-17" value="核心数据结构&lt;br&gt;&amp;lt;sessionId, SessionImpl&amp;gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="385" y="500" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=0.25;entryDx=0;entryDy=0;" edge="1" parent="1" source="WYC8DpWCvw_BZ1jIHr_j-21" target="WYC8DpWCvw_BZ1jIHr_j-14">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="695" y="438" />
              <mxPoint x="640" y="438" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-25" value="touch" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=#ffffff;" vertex="1" connectable="0" parent="WYC8DpWCvw_BZ1jIHr_j-24">
          <mxGeometry x="0.3906" y="-1" relative="1" as="geometry">
            <mxPoint x="11.48" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="WYC8DpWCvw_BZ1jIHr_j-21" target="WYC8DpWCvw_BZ1jIHr_j-13">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="720" y="390" />
              <mxPoint x="555" y="390" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-21" value="submitRequest&lt;br&gt;提交请求" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="670" y="447.5" width="100" height="55" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-31" value="ZKDatabase&lt;br&gt;内存数据库" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="660" y="310" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-32" value="FileTxnSnapLog&lt;br&gt;磁盘数据管理组件" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="660" y="230" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-33" value="DatadirCleanupManager&lt;br&gt;数据清理组件" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-270" y="135" width="530" height="175" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-34" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-270" y="330" width="530" height="250" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-35" value="NIOServerCnxnFactory&lt;br&gt;网络连接工厂" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-75" y="347.5" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-115" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="WYC8DpWCvw_BZ1jIHr_j-36" target="WYC8DpWCvw_BZ1jIHr_j-114">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-36" value="ServerSocketChannel" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-250" y="405.5" width="140" height="42" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-37" value="SocketChannel" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-250" y="480" width="140" height="42" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-39" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="WYC8DpWCvw_BZ1jIHr_j-38" target="WYC8DpWCvw_BZ1jIHr_j-36">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-85" y="450" />
              <mxPoint x="-85" y="427" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-40" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="WYC8DpWCvw_BZ1jIHr_j-38" target="WYC8DpWCvw_BZ1jIHr_j-37">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-85" y="470" />
              <mxPoint x="-85" y="501" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-38" value="Selector" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-75" y="438" width="100" height="42" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-41" value="SocketChannels&lt;br&gt;（Set数据结构）" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="100" y="387.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-43" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="WYC8DpWCvw_BZ1jIHr_j-42" target="WYC8DpWCvw_BZ1jIHr_j-38">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-44" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="WYC8DpWCvw_BZ1jIHr_j-42" target="WYC8DpWCvw_BZ1jIHr_j-14">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-45" value="会话管理" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=#ffffff;" vertex="1" connectable="0" parent="WYC8DpWCvw_BZ1jIHr_j-44">
          <mxGeometry x="-0.3245" y="6" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-42" value="Thread&lt;br&gt;（核心网络线程）" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="100" y="490" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-47" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="WYC8DpWCvw_BZ1jIHr_j-46" target="WYC8DpWCvw_BZ1jIHr_j-16">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="565" y="420" />
              <mxPoint x="565" y="460" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-48" value="expire" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=#ffffff;" vertex="1" connectable="0" parent="WYC8DpWCvw_BZ1jIHr_j-47">
          <mxGeometry x="0.3999" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-46" value="SessionTracker&lt;br&gt;（线程）" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="416.25" y="405" width="97.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-49" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-270" y="710" width="1050" height="610" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-50" value="QuorumPeer&lt;br&gt;（线程）" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="210" y="720" width="115" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-78" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="WYC8DpWCvw_BZ1jIHr_j-51" target="WYC8DpWCvw_BZ1jIHr_j-77">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-80" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="WYC8DpWCvw_BZ1jIHr_j-51" target="WYC8DpWCvw_BZ1jIHr_j-79">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-51" value="Follower&lt;br&gt;（核心组件）" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-195" y="800" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-52" value="Socket" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-165" y="780" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-54" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="WYC8DpWCvw_BZ1jIHr_j-53" target="WYC8DpWCvw_BZ1jIHr_j-34">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-53" value="ServerCnxnFactory" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="10" y="740" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-55" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-195" y="920" width="415" height="360" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-56" value="QuorumCnxManager&lt;br&gt;zk集群通信组件" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-46" y="930" width="117" height="40" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-57" value="Listener&lt;br&gt;请求监听器" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-142.5" y="980" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-58" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-180" y="1060" width="190" height="170" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-59" value="SendWorkerMap" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-137.5" y="1070" width="110" height="35" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-62" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="WYC8DpWCvw_BZ1jIHr_j-60" target="WYC8DpWCvw_BZ1jIHr_j-61">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-60" value="SendWorker" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-137.5" y="1110" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-67" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="WYC8DpWCvw_BZ1jIHr_j-61" target="WYC8DpWCvw_BZ1jIHr_j-65">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-61" value="RecvWorker" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-137.5" y="1169" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-66" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="WYC8DpWCvw_BZ1jIHr_j-63" target="WYC8DpWCvw_BZ1jIHr_j-60">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-63" value="queueSendMap" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="50" y="1102.5" width="130" height="45" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-73" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="WYC8DpWCvw_BZ1jIHr_j-65" target="WYC8DpWCvw_BZ1jIHr_j-68">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-65" value="recvQueue" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="50" y="1161.5" width="130" height="45" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-75" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.25;entryDx=0;entryDy=0;" edge="1" parent="1" source="WYC8DpWCvw_BZ1jIHr_j-68" target="WYC8DpWCvw_BZ1jIHr_j-55">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-76" value="和其他机器&lt;br&gt;建立连接" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=#ffffff;" vertex="1" connectable="0" parent="WYC8DpWCvw_BZ1jIHr_j-75">
          <mxGeometry x="-0.2422" y="-9" relative="1" as="geometry">
            <mxPoint x="-9" y="-9" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-68" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="395" y="980" width="265" height="170" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-69" value="FastLeaderElection&lt;br&gt;选举算法" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="455" y="987.5" width="145" height="55" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-72" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="WYC8DpWCvw_BZ1jIHr_j-71" target="WYC8DpWCvw_BZ1jIHr_j-63">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="528" y="1125" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-71" value="sendQueue" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="460" y="1062.5" width="135" height="50" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-85" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="WYC8DpWCvw_BZ1jIHr_j-77" target="WYC8DpWCvw_BZ1jIHr_j-84">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-86" value="1.13 写到内存数据库" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=#ffffff;" vertex="1" connectable="0" parent="WYC8DpWCvw_BZ1jIHr_j-85">
          <mxGeometry x="0.24" y="-2" relative="1" as="geometry">
            <mxPoint x="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-77" value="FinalProcessor" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="455" y="800" width="135" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-82" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="WYC8DpWCvw_BZ1jIHr_j-79" target="WYC8DpWCvw_BZ1jIHr_j-81">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="348" y="660" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-83" value="1.6 写事物日志&lt;br&gt;1.7 执行flush操作" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=#ffffff;" vertex="1" connectable="0" parent="WYC8DpWCvw_BZ1jIHr_j-82">
          <mxGeometry x="0.0987" y="-3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-79" value="SyncRequestProcessor" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="280" y="800" width="135" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-81" value="磁盘上的事物日志&lt;br&gt;log.xxxxxx" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="840" y="630" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-84" value="ZkDatabase" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="840" y="800" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-87" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1230" y="116.25" width="660" height="502.5" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-88" value="ZooKeeper&lt;br&gt;（客户端）" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-948.5" y="134.25" width="97" height="43" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-89" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1210" y="178.75" width="610" height="430" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-90" value="ClientCnxn" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-938.25" y="193.25" width="76.5" height="38" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-112" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="WYC8DpWCvw_BZ1jIHr_j-93" target="WYC8DpWCvw_BZ1jIHr_j-106">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-113" value="请求排队" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=#ffffff;" vertex="1" connectable="0" parent="WYC8DpWCvw_BZ1jIHr_j-112">
          <mxGeometry x="0.0763" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-93" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-870" y="250.75" width="242" height="258" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-94" value="SendThread" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-794" y="258.75" width="90" height="35" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-95" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-851.5" y="298.75" width="211.5" height="200" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-96" value="ClientCnxnSocket" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-814" y="308.75" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-101" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="WYC8DpWCvw_BZ1jIHr_j-97" target="WYC8DpWCvw_BZ1jIHr_j-100">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-97" value="Selector" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-799" y="352.5" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-103" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=1.005;entryY=0.397;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="WYC8DpWCvw_BZ1jIHr_j-100" target="WYC8DpWCvw_BZ1jIHr_j-102">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-620" y="426.75" />
              <mxPoint x="-620" y="214.75" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-104" value="更新会话信息" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=#ffffff;" vertex="1" connectable="0" parent="WYC8DpWCvw_BZ1jIHr_j-103">
          <mxGeometry x="0.6111" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-116" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="WYC8DpWCvw_BZ1jIHr_j-100" target="WYC8DpWCvw_BZ1jIHr_j-114">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-117" value="建立TCP长连接&lt;br&gt;发送ConnectRequest请求&lt;br&gt;定时发送Ping请求" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=#ffffff;" vertex="1" connectable="0" parent="WYC8DpWCvw_BZ1jIHr_j-116">
          <mxGeometry x="0.1242" y="-1" relative="1" as="geometry">
            <mxPoint x="22.76" y="-1.03" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-100" value="SocketChannel" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-799" y="418.75" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-102" value="session&lt;br&gt;会话信息" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-804" y="198.75" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-105" value="EventThread" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-809" y="528.75" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-108" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="WYC8DpWCvw_BZ1jIHr_j-106" target="WYC8DpWCvw_BZ1jIHr_j-107">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-109" value="待响应" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=#ffffff;" vertex="1" connectable="0" parent="WYC8DpWCvw_BZ1jIHr_j-108">
          <mxGeometry x="0.27" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-110" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="WYC8DpWCvw_BZ1jIHr_j-106" target="WYC8DpWCvw_BZ1jIHr_j-100">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-1060" y="398.75" />
              <mxPoint x="-879" y="398.75" />
              <mxPoint x="-879" y="433.75" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-111" value="发送请求" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=#ffffff;" vertex="1" connectable="0" parent="WYC8DpWCvw_BZ1jIHr_j-110">
          <mxGeometry x="0.0603" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-106" value="outgoingQueue&lt;br&gt;（待发送队列）" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1160" y="258.75" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-107" value="pendingQueue&lt;br&gt;（待响应队列）" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1160" y="418.75" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-114" value="2181&lt;br&gt;端口号" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-450" y="406" width="110" height="41" as="geometry" />
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-118" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="WYC8DpWCvw_BZ1jIHr_j-37">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-699" y="441" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-680" y="501" />
              <mxPoint x="-680" y="441" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="WYC8DpWCvw_BZ1jIHr_j-119" value="发送响应" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=#ffffff;" vertex="1" connectable="0" parent="WYC8DpWCvw_BZ1jIHr_j-118">
          <mxGeometry x="0.0061" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
